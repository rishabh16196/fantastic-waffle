# CI Workflow - Runs on pull requests
# Tests are commented out for now - uncomment when ready

name: CI

on:
  pull_request:
    branches: [main, staging]

jobs:
  # ==================== TESTS (COMMENTED OUT) ====================
  # Uncomment these jobs when ready to enable CI checks
  
  # test-backend:
  #   name: Test Backend
  #   runs-on: ubuntu-latest
  #   defaults:
  #     run:
  #       working-directory: backend
  #   steps:
  #     - name: Checkout code
  #       uses: actions/checkout@v4
  #     - name: Set up Python
  #       uses: actions/setup-python@v5
  #       with:
  #         python-version: '3.12'
  #         cache: 'pip'
  #         cache-dependency-path: backend/requirements.txt
  #     - name: Install dependencies
  #       run: pip install -r requirements.txt
  #     - name: Install dev dependencies
  #       run: pip install ruff pytest
  #     - name: Lint with ruff
  #       run: ruff check .
  #     - name: Type check imports
  #       run: python -c "from main import app; print('Imports OK')"

  # test-frontend:
  #   name: Test Frontend
  #   runs-on: ubuntu-latest
  #   defaults:
  #     run:
  #       working-directory: frontend
  #   steps:
  #     - name: Checkout code
  #       uses: actions/checkout@v4
  #     - name: Set up Node.js
  #       uses: actions/setup-node@v4
  #       with:
  #         node-version: '20'
  #         cache: 'npm'
  #         cache-dependency-path: frontend/package-lock.json
  #     - name: Install dependencies
  #       run: npm ci
  #     - name: Type check
  #       run: npx tsc --noEmit
  #     - name: Build
  #       run: npm run build
  #       env:
  #         VITE_API_URL: /api

  # Placeholder job so workflow doesn't fail
  placeholder:
    name: CI Placeholder
    runs-on: ubuntu-latest
    steps:
      - name: Info
        run: echo "CI tests are currently disabled. Uncomment test jobs in ci.yml to enable."
